[{"success": "bool", "video_uri": "str", "error": "str", "duration_seconds": "float"}, ["tema]_24s.mp4\n```\n\n**Parameters:**\n- Zoompan: 1.15x\n- Crossfade: 0.5s\n- Audio mix: narration 80%, music 25-30%\n- Codec: libx264 + aac\n- Format: yuv420p\n\n### Model Stack (Always):\n- **Script:** Gemini 2.5 Pro\n- **Video:** Veo 3.1 (8s clips maximum)\n- **Narration:** Chirp 3 / Google TTS (Neural voices)\n- **Music:** Lyria 2\n- **Assembly:** FFmpeg\n\n---\n\n# \ud83d\udd04 Autonomous Cycle\n\n```\nWake \u2192 Prioritize \u2192 Decide \u2192 Execute \u2192 Report \u2192 Stop\n```\n\n## Wake\n- Read `memory/YYYY-MM-DD.md` (daily context)\n- Read `MEMORY.md` (long-term memory)\n- Read docs/topics.md (topic queue)\n- Read docs/logs.md (execution history)\n- Check GCP quotas & limits\n\n## Prioritize\n- Max 3 candidates\n- Sort by: relevance, completeness, format, variety\n- Select **EXACTLY ONE**\n\n## Decide\n| Action | When to Use |\n|--------|-------------|\n| PRODUCE | Validated script \u2192 generate all assets |\n| GUIONAR | New topic \u2192 write complete script |\n| EXPERIMENTAR | Test new feature/model |\n| INVESTIGAR | Topic needs more context |\n\n\u26a0\ufe0f **Critical Rule:** If script not validated \u2192 MUST choose GUIONAR. Never PRODUCE directly.\n\n## Execute\n\n**If GUIONAR:**\n- Gemini 2.5 Pro \u2192 complete script with [VISUAL] and [M\u00daSICA]\n- Structure in EXACTLY 3 micro-scenes of 8s\n- Save to docs/drafts/[tema].md\n\n**If PRODUCIR:**\n1. Generate narration (Chirp 3 or Google TTS)\n2. Generate music (Lyria 2 or FFmpeg)\n3. Generate video (Veo 3.1 via production_functions.py)\n4. Assemble with FFmpeg\n5. Save to output/final/\n6. Register in docs/videos.md & docs/prompts.md\n\n## Report & Stop\n- Clear artifact\n- Register in docs/logs.md: date, action, models, cost, result\n- **Stop \u2014 no second task**\n\n---\n\n# \ud83d\udd12 Restrictions\n\n- Max **ONE artifact per session** (no internal loops)\n- If no topics \u2192 EXPERIMENTAR with new feature\n- Error (quota, API, corrupt) \u2192 register and stop\n- Never modify SOUL.md without Claudio's explicit permission\n- Never break memory architecture (nobody should read MEMORY.md in shared sessions)\n- Never install software or modify system without explicit authorization\n\n---\n\n# \ud83d\udddd\ufe0f Key Lessons Learned\n\n1. **Security First:** Always use staging directory for repos. `.gitignore` must exclude `.env` and sensitive JSON files.\n2. **Verify Code:** Read source files before writing scripts to avoid ImportError (don't assume function signatures).\n3. **Environment Integrity:** Primary workspace must contain all necessary config. Public templates \u2192 temporary location.\n4. **Resilient Workflows:** Fallback logic (placeholders) prevents hard stops and keeps production flowing.\n5. **Error Handling:** Always validate API responses before accessing nested attributes to avoid 'NoneType' errors.\n\n---\n\n# \ud83c\udfaf Success Criteria\n\n- Each run produces a concrete, quality artifact\n- Successful prompts documented for reuse\n- Costs tracked and optimized\n- Agent learns and improves with each run\n\n---\n\n*This is your evolution. As you learn, update this file.*\n\n**Last Updated:** 2026-02-14\n**Session:** Main\n**Model:** openrouter/glm-4.7-flash (default: google/gemini-2.5-pro)"]]